<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>确认订单页</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <link rel="stylesheet" href="bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="css/confirm.css">
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="layer/layer.js"></script>
</head>
<body>
<div class="container-fluid">
    <!--导航栏-->
    <nav class="navbar" id="top">
        <div class="container title">
            <a href="order-search.html">
               <span class="glyphicon glyphicon-chevron-left word">
                   确认订单
               </span>
            </a>
        </div>
    </nav>
    <!--主体内容-->
    <div class="container">
        <span>亲，请核对订单信息</span>
        <!--信息确认-->
        <form action="" name="form1" style="background: white;margin-top:10px;cursor: pointer">
            <div class="row">
                <div class="col-xs-1"></div>
                <div class="col-xs-6">
                    <span>收货人：<strong>小明</strong></span>
                </div>
                <div class="col-xs-5">
                    <span>13343563256</span>
                </div>
            </div>
            <!--链接支付页面-->
            <a href="#" style="color: black">
            <div class="row" style="margin-top: 5px">
                <div class="col-xs-1">
                    <span class="glyphicon glyphicon-map-marker " style="color:rgba(125,205,20,1);margin-left: 5px; "></span>
                </div>
                <div class="col-xs-9">
                    <span>收货地址：<strong>湖北文理学院296号</strong></span>
                </div>
                <div class="col-xs-2">
                    <span class="glyphicon glyphicon-chevron-right" style="color: #CCCCCC"></span>
                </div>
            </div>
            </a>
            <div class="row" style="margin-top: 5px">
                <div class="col-xs-1"></div>
                <div class="col-xs-11">
                    <span class="w1">(收货不变时，可选择免费待收货服务)</span>
                </div>
            </div>
        </form>
        <!--订单详情-->
        <ul class="list-group"  style="margin-top: 10px">
            <li class="list-group-item">
                <span>订单号：01234567890</span>
                <div class="row">
                    <div class="col-xs-6">
                        <a href="GoodShow.html"><img src="img-lcj/p16.jpg" class="ico"></a>
                    </div>
                    <a href="GoodShow.html" style="color: black">
                    <div class="col-xs-6">
                        <p>蔬菜2</p>
                        <p class="w1">￥<strong class="price_2">15</strong>&nbsp;&nbsp;<del>￥23</del></p>
                        <p>x&nbsp;&nbsp;<strong class="num_2">2</strong ></p>
                    </div>
                    </a>
                </div>
                <div class="row" style="margin-top: 5px">
                    <div class="col-xs-1"></div>
                    <div class="col-xs-11 text-right">
                        <span>共<strong class="num_3"></strong>件商品  合计：￥<strong class="price_3"></strong></span>
                    </div>
                </div>
            </li>
            <li class="list-group-item">
                <span>订单号：01234567891</span>
                <div class="row">
                    <div class="col-xs-6">
                        <a href="GoodShow.html"><img src="img-lcj/p16.jpg" class="ico"></a>
                    </div>
                    <a href="GoodShow.html" style="color: black">
                    <div class="col-xs-6">
                        <p>蔬菜2</p>
                        <p class="w1">￥<strong class="price_2">14</strong>&nbsp;&nbsp;<del>￥23</del></p>
                        <p>x&nbsp;&nbsp;<strong class="num_2">3</strong ></p>
                    </div>
                    </a>
                </div>
                <div class="row" style="margin-top: 5px">
                    <div class="col-xs-1"></div>
                    <div class="col-xs-11 text-right">
                        <span>共<strong class="num_3"></strong>件商品  合计：￥<strong class="price_3"></strong></span>
                    </div>
                </div>
            </li>
        </ul>
    </div>
    <nav class="navbar navbar-default navbar-fixed-bottom" id="add-pay">
        <div class="container">
            <div class="col-xs-2"></div>
            <div class="col-xs-6" style="margin-top: 10px">
                <p>合计：￥<strong class="w1" id="sum"></strong></p>
            </div>
            <div class="col-xs-4"  style="margin-top: 5px">
                <a class="btn btn-default look" type="button" href="#">提交订单</a>
            </div>
        </div>
    </nav>
</div>
<script>
    /*
     @功能 初始化
     */
    //存放每个订单的价格 X1
    var price_2 = new Array();
    //存放每个订单的数量
    var num_2 = new Array();
    //存放小计
    var add_2 = new Array();
    //总计
    var sum1 = 0;//默认为0
    //存储通过checkbox选中后小计集合
    var add = new Array();
    //遍历订单li
    $(" li").each(function () {
        var price2 =$(this).find(".price_2").html(); //每个订单的单个价格
        //转化为浮点型
        var price3 = parseFloat(price2);
        var num2 = $(this).find(".num_2").html();//每个订单的数量
        //转化为浮点型
        var num3 = parseFloat(num2);
        //遍历存放进价格数组
        price_2.push(price3);
        //遍历存放进数量数组
        num_2.push(num3);
        //将数量放入
        $(this).find(".num_3").text(num3);
        //将小计放入
        $(this).find(".price_3").text(price3*num3);
        //获取小计
        var add3 = $(this).find(".price_3").html();
        //转化为浮点型
         var add4 = parseFloat(add3);
//        console.log(add4);
        add.push(add4);
    });
    for(var d=0;d<add.length;d++){
        sum1+=add[d];
//            console.log(add[d]);
    }
    //    console.log(sum1);
    $("#sum").text(sum1.toFixed(2));
    //测试数组（正确）
    //    for(var i in price_2){
    //       console.log(price_2[i]);
    //    }
    //    for(var j in num_2){
    //        console.log(num_2[j]);
    //    }
    //分别遍历价格和数量放入小计数组
    for(var x=0;x<price_2.length;x++){
        add_2[x]=price_2[x]*num_2[x];
    }
    //测试小计(正确)
    //    for(var q in add_2){
    //        console.log(add_2[q]);
    //    }

</script>
</body>
</html>